<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Game - HTML</title>
	<link rel="stylesheet" href="css/game.css"/>
</head>
<body>
<canvas id="game" width="600" height="600">Seu navegador não. Suporta.Atualize-o.</canvas>
<script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.backbone.js"></script>
<script src="js/Animacao.js"></script>
<script src="js/Bola.js"></script>
<script src="js/Teclado.js"></script>
<script src="js/Heroi.js"></script>
<script src="js/Spritesheet.js"></script>
<script src="js/Sonic.js"></script>
<script src="js/Colisor.js"></script>
<script>
	var canvas = document.getElementById('game');

	var ctx = canvas.getContext('2d');

	var b1 = new Bola(ctx);
	b1.x = Math.floor(Math.random() * 500) + 50;
	b1.y = Math.floor(Math.random() * 500) + 50;
	b1.velocidadeX = 10;
	b1.velocidadeY = -5;
	b1.cor = 'blue';
	b1.raio = 30;

	var b2 = new Bola(ctx);
	b2.x = Math.floor(Math.random() * 500) + 50;
	b2.y = Math.floor(Math.random() * 500) + 50;
	b2.velocidadeX = -5;
	b2.velocidadeY = 10;
	b2.cor = 'red';
	b2.raio = 30;

	var colisor = new Colisor();
	colisor.novoSprite(b1);
	colisor.novoSprite(b2);

	colisor.aoColidir = function (sprite1, sprite2) {
		console.log('PÁ!', sprite1, sprite2);
	};

	requestAnimationFrame(gameLoop);

	function gameLoop() {
		ctx.clearRect(0, 0, canvas.width, canvas.height);

		b1.atualizar();
		b2.atualizar();

		b1.desenhar();
		b2.desenhar();

		colisor.processar();

		requestAnimationFrame(gameLoop);
	}

</script>
</body>
</html>